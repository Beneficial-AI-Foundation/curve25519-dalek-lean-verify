# Curve25519Dalek Directory Structure

### `Curve25519Dalek/Funs.lean` and `Curve25519Dalek/Types.lean`
These files are **automatically generated by Aeneas** from the Rust source code. They contain:
- **Types.lean**: Type definitions extracted from Rust
- **Funs.lean**: Function definitions extracted from Rust

**Important**: These files should never be manually edited. They are regenerated from the Rust source using the extraction script (`scripts/extract-lean.sh`). CI checks ensure they remain synchronised with the Rust source.

### `Curve25519Dalek/Specs/`
This folder contains **manually written** Lean files for formal verification. The structure is:

#### Specification Theorem Files
Each specification theorem resides in its own file, following this naming convention:
- **File name**: Matches the Rust function name (e.g., `ClampInteger.lean` for `clamp_integer`)
- **Folder structure**: Mirrors the full Rust module path
  - Example: For `curve25519_dalek::backend::serial::u64::field::FieldElement51::reduce`, the structure would be `Specs/Backend/Serial/U64/Field/FieldElement51/Reduce.lean` 

Each file contains:
- The formal specification of the function's behaviour
- The correctness proof showing the Rust implementation satisfies the specification
- Any auxiliary lemmas specific to that function

### `Defs.lean`
Contains definitions that are convenient for writing specification theorems. This is the place to put:
- Helper definitions for stating specifications
- Common predicates used across multiple proofs
- Type class instances needed for verification

### `Aux.lean`
Contains auxiliary theorems that:
- Are used in multiple specification theorem proofs
- Are not available upstream (in standard libraries or Aeneas)
